---
milestone: v1.5
audited: 2026-02-24T18:15:00Z
status: gaps_found
scores:
  requirements: 4/7
  phases: 2/3
  integration: 4/4
  flows: 4/4
gaps:
  requirements:
    - id: "INIT-06"
      status: "unsatisfied"
      phase: "Phase 19 (not started)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 19 has no directory, no plans, no VERIFICATION.md. Requirement never worked on."
    - id: "INIT-07"
      status: "unsatisfied"
      phase: "Phase 19 (not started)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 19 has no directory, no plans, no VERIFICATION.md. Requirement never worked on."
    - id: "INIT-08"
      status: "unsatisfied"
      phase: "Phase 19 (not started)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 19 has no directory, no plans, no VERIFICATION.md. Requirement never worked on."
  integration: []
  flows: []
tech_debt:
  - phase: 18-full-mode
    items:
      - "bin/lib/writers.cjs line 27: writeIfChanged emits internal '[viflo] skipped (unchanged): ...' lines to stdout on repeat --full runs, producing mixed output alongside formatted lines. Deferred to Phase 19 polish. Non-blocking."
      - "bin/viflo.cjs: resolveTargetPath imported from paths.cjs but never called — dead import. Cosmetic, no functional impact."
---

# Milestone v1.5 Audit Report

**Milestone:** v1.5 viflo init CLI
**Audited:** 2026-02-24T18:15:00Z
**Status:** ⚠ gaps_found
**Phases in scope:** 17–19 (3 phases defined; 2 complete, 1 not started)

---

## Requirements Coverage (3-Source Cross-Reference)

| REQ-ID | Description | VERIFICATION.md | REQUIREMENTS.md | Final Status |
|--------|-------------|-----------------|-----------------|--------------|
| INIT-01 | `viflo init --minimal` creates CLAUDE.md sentinel block with `@`-import lines | SATISFIED (Phase 17) | `[x]` | **satisfied** |
| INIT-02 | `viflo init --minimal` creates `.claude/settings.json` with `permissions.allow`; existing entries preserved | SATISFIED (Phase 17) | `[x]` | **satisfied** |
| INIT-03 | `viflo init --full` scaffolds `.planning/` with stub files; each existing file skipped individually | SATISFIED (Phase 18) | `[x]` | **satisfied** |
| INIT-04 | `viflo init --full` writes starter CLAUDE.md template on new projects; does not alter content outside sentinel on existing | SATISFIED (Phase 18) | `[x]` | **satisfied** |
| INIT-06 | `viflo init --dry-run` prints all planned file actions with absolute paths, writes nothing | MISSING (Phase 19 not started) | `[ ]` | **unsatisfied** |
| INIT-07 | Every file action emits labelled result (`created`, `updated`, `skipped`, `merged`) with absolute path | MISSING (Phase 19 not started) | `[ ]` | **unsatisfied** |
| INIT-08 | `package.json` has `"bin": { "viflo": "bin/viflo.cjs" }` for `npx` / `pnpm exec viflo` invocation | MISSING (Phase 19 not started) | `[ ]` | **unsatisfied** |

**Score: 4/7 requirements satisfied**

Note: SUMMARY.md files in Phases 17–18 do not contain `requirements_completed` frontmatter field. Source 2 of 3-source check is absent. Determination relies on VERIFICATION.md (source 1) and REQUIREMENTS.md checkbox (source 3).

### Orphan Detection

No orphaned requirements. INIT-06, INIT-07, INIT-08 are assigned to Phase 19 in the traceability table. Phase 19 was never started — they are unsatisfied, not orphaned.

---

## Phase Status

| Phase | Name | VERIFICATION.md | Status |
|-------|------|-----------------|--------|
| 17 | Minimal Mode | ✅ passed (9/9 truths) | complete |
| 18 | Full Mode | ✅ passed (7/7 truths) | complete |
| 19 | Polish | ❌ missing — phase not started | **blocker** |

---

## Integration Check

**Cross-phase wiring: 4/4 flows COMPLETE**
**Test suite: 45/45 tests passing**

| From | To | Via | Status |
|------|------|-----|--------|
| `bin/viflo.cjs` | `bin/lib/skills.cjs` | `require('./lib/skills.cjs')` → `scanSkills(resolveViFloRoot())` | ✅ WIRED |
| `bin/viflo.cjs` | `bin/lib/writers.cjs` | `writeCLAUDEmd`, `writeSettingsJson`, `writePlanningScaffold`, `writeCLAUDEmdTemplate` | ✅ WIRED |
| `bin/viflo.cjs` | `bin/lib/paths.cjs` | `resolveViFloRoot()` | ✅ WIRED |
| `--full` branch | `writePlanningScaffold` + `writeCLAUDEmdTemplate` | Phase 18 wiring in `viflo.cjs` lines 73–114 | ✅ WIRED |

### E2E Flow Summary

| Flow | Requirement | Status |
|------|-------------|--------|
| `viflo init --minimal` → CLAUDE.md sentinel + `@`-imports | INIT-01 | ✅ complete |
| `viflo init --minimal` → `.claude/settings.json` with deep-merged `permissions.allow` | INIT-02 | ✅ complete |
| `viflo init --full` → `.planning/` scaffold (skip-if-exists per file) | INIT-03 | ✅ complete |
| `viflo init --full` → starter CLAUDE.md template (new) / sentinel merge (existing) | INIT-04 | ✅ complete |

---

## Tech Debt

### Phase 18: Full Mode

- **`writers.cjs` line 27 — mixed stdout output:** `writeIfChanged` emits internal `[viflo] skipped (unchanged): ...` lines to stdout before the formatted per-file output on repeat `--full` runs. Non-blocking (exit 0, files correctly skipped). Deferred to Phase 19 polish.
- **`viflo.cjs` dead import:** `resolveTargetPath` imported from `paths.cjs` at line 4 but never called in `viflo.cjs`. `resolveTargetPath` is used only within `writers.cjs` directly. Cosmetic — no functional impact.

---

## Unsatisfied Requirements Detail

### INIT-06: `--dry-run` flag
- **Description:** `viflo init --dry-run` (with any mode flag) prints every file action with its resolved absolute path to stdout and exits without writing, creating, or modifying any file
- **Phase:** 19 (not started)
- **Evidence:** No phase directory, no plan, no implementation, no tests

### INIT-07: Labelled per-file output
- **Description:** Every file action in a real run emits a labelled result (`created`, `updated`, `skipped`, or `merged`) with the resolved absolute path on stdout
- **Phase:** 19 (not started)
- **Evidence:** No phase directory, no plan, no implementation, no tests
- **Note:** Phase 18 VERIFICATION truth #5 confirmed per-file output works for `--full` but uses `created`/`skipped (already exists)` format rather than the final labelled format. Partial progress, but not meeting the requirement spec.

### INIT-08: `package.json` bin wiring
- **Description:** `package.json` has `"bin": { "viflo": "bin/viflo.cjs" }` so CLI is invocable via `npx` or `pnpm exec viflo`
- **Phase:** 19 (not started)
- **Evidence:** No phase directory, no plan, no implementation

---

## Summary

Phases 17 and 18 are solid: all verifications passed, 45/45 tests green, cross-phase wiring confirmed by integration checker. The v1.5 milestone cannot be completed as-is because Phase 19 (Polish) was never started and its three requirements (INIT-06, INIT-07, INIT-08) remain unimplemented.

**Recommendation:** Execute Phase 19 to close the gaps, then re-run `/gsd:complete-milestone`.

---

*Audited: 2026-02-24T18:15:00Z*
*Auditor: Claude (gsd-audit-milestone)*
