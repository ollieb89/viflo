---
phase: 10-commit-and-verify
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - .agent/skills/api-design-principles/SKILL.md
  - .agent/skills/architecture-patterns/SKILL.md
  - .agent/skills/code-review-excellence/SKILL.md
  - .agent/skills/debugging-strategies/SKILL.md
  - .agent/skills/e2e-testing-patterns/SKILL.md
  - .agent/skills/error-handling-patterns/SKILL.md
  - .agent/skills/fastapi-templates/SKILL.md
  - .agent/skills/monorepo-management/SKILL.md
  - .agent/skills/nodejs-backend-patterns/SKILL.md
  - .agent/skills/typescript-advanced-types/SKILL.md
  - .agent/skills/writing-skills/SKILL.md
  - .agent/skills/INDEX.md
  - .agent/skills/api-design-principles/references/
  - .agent/skills/architecture-patterns/references/
  - .agent/skills/code-review-excellence/references/
  - .agent/skills/debugging-strategies/references/
  - .agent/skills/e2e-testing-patterns/references/
  - .agent/skills/error-handling-patterns/references/
  - .agent/skills/fastapi-templates/references/
  - .agent/skills/monorepo-management/references/
  - .agent/skills/nodejs-backend-patterns/references/
  - .agent/skills/typescript-advanced-types/references/
  - .agent/skills/writing-skills/references/
  - .planning/verifications/phase-0-VERIFICATION.md
  - .planning/verifications/phase-1-VERIFICATION.md
  - .planning/verifications/phase-2-VERIFICATION.md
  - .planning/verifications/phase-3-VERIFICATION.md
  - .telemetry/usage.csv
  - .telemetry/README.md
  - scripts/log-telemetry.sh
  - scripts/telemetry-report.sh
  - .planning/07-01-PLAN.md
  - .planning/07-01-SUMMARY.md
  - .planning/07-02-PLAN.md
  - .planning/07-02-SUMMARY.md
  - .planning/07-03-PLAN.md
  - .planning/07-03-SUMMARY.md
  - .planning/07-CONTEXT.md
autonomous: true
gap_closure: true
requirements:
  - CONTENT-01
  - CONTENT-02
  - CONTENT-03

must_haves:
  truths:
    - "All 11 SKILL.md modularizations are present in the committed tree (HEAD)"
    - "Phase 0-3 VERIFICATION.md files are present in the committed tree"
    - "Telemetry scripts (log-telemetry.sh, telemetry-report.sh) are present in the committed tree"
    - "git ls-files confirms every Phase 7 artifact is tracked"
  artifacts:
    - path: ".agent/skills/api-design-principles/SKILL.md"
      provides: "Modularized skill at ≤500 lines"
      contains: "references/"
    - path: ".planning/verifications/phase-0-VERIFICATION.md"
      provides: "Phase 0 verification record"
    - path: ".telemetry/usage.csv"
      provides: "Telemetry CSV with sample row"
    - path: "scripts/log-telemetry.sh"
      provides: "Telemetry logging script"
  key_links:
    - from: "committed HEAD"
      to: ".agent/skills/*/SKILL.md"
      via: "git ls-files"
      pattern: "git ls-files .agent/skills/*/SKILL.md"
    - from: "committed HEAD"
      to: ".planning/verifications/"
      via: "git ls-files"
      pattern: "git ls-files .planning/verifications/"
    - from: "committed HEAD"
      to: "scripts/log-telemetry.sh"
      via: "git ls-files"
      pattern: "git ls-files scripts/log-telemetry.sh"
---

<objective>
Stage and commit all Phase 7 artifacts that exist on disk but are absent from the committed tree (HEAD).

Purpose: Phase 7 execution created 11 SKILL.md modularizations, 30+ reference files, Phase 0-3 VERIFICATION.md records, and telemetry infrastructure — but never committed them. This plan stages and commits all of them, satisfying CONTENT-01, CONTENT-02, and CONTENT-03 in the committed tree.

Output: A single git commit containing all Phase 7 artifacts. After this commit, `git ls-files .agent/skills/*/SKILL.md`, `git ls-files .planning/verifications/`, and `git ls-files scripts/log-telemetry.sh` will all return expected paths.
</objective>

<execution_context>
@/home/ollie/.claude/get-shit-done/workflows/execute-plan.md
@/home/ollie/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/v1.1-MILESTONE-AUDIT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify Phase 7 disk artifacts exist before staging</name>
  <files>none (read-only verification)</files>
  <action>
    Run the following checks to confirm all Phase 7 disk artifacts are present before staging. If any are missing, stop and report — do NOT proceed to the commit task.

    Check 1 — SKILL.md modularizations (expect 11 files modified, ≤500 lines each):
    ```bash
    wc -l .agent/skills/*/SKILL.md | sort -n
    ```
    All 11 skill SKILL.md files should report ≤500 lines. If any exceed 500, stop.

    Check 2 — references/ directories exist:
    ```bash
    ls .agent/skills/*/references/ 2>/dev/null | head -20
    ```
    Expect subdirectories under at least: api-design-principles, architecture-patterns, code-review-excellence, debugging-strategies, e2e-testing-patterns, error-handling-patterns, fastapi-templates, monorepo-management, nodejs-backend-patterns, typescript-advanced-types, writing-skills.

    Check 3 — Phase 0-3 verifications exist:
    ```bash
    ls .planning/verifications/phase-{0,1,2,3}-VERIFICATION.md
    ```
    Expect 4 files.

    Check 4 — Telemetry artifacts exist:
    ```bash
    ls .telemetry/ && ls scripts/log-telemetry.sh scripts/telemetry-report.sh
    ```
    Expect usage.csv, README.md in .telemetry/, and both scripts.

    Check 5 — Phase 7 planning docs exist:
    ```bash
    ls .planning/07-*.md
    ```
    Expect 07-01-PLAN.md, 07-01-SUMMARY.md, 07-02-PLAN.md, 07-02-SUMMARY.md, 07-03-PLAN.md, 07-03-SUMMARY.md, 07-CONTEXT.md.

    If all checks pass, proceed to Task 2.
  </action>
  <verify>
    <automated>wc -l /home/ollie/Development/Tools/viflo/.agent/skills/*/SKILL.md | sort -n | tail -5 && ls /home/ollie/Development/Tools/viflo/.planning/verifications/ && ls /home/ollie/Development/Tools/viflo/scripts/log-telemetry.sh</automated>
    <manual>Confirm all 11 SKILL.md files are ≤500 lines, 4 verification files exist, and telemetry scripts exist</manual>
  </verify>
  <done>All Phase 7 disk artifacts confirmed present. No file exceeds 500 lines. Phase 0-3 VERIFICATION.md files exist. Telemetry scripts exist.</done>
</task>

<task type="auto">
  <name>Task 2: Stage and commit all Phase 7 artifacts</name>
  <files>
    .agent/skills/*/SKILL.md
    .agent/skills/*/references/
    .agent/skills/INDEX.md
    .planning/verifications/
    .telemetry/
    scripts/log-telemetry.sh
    scripts/telemetry-report.sh
    .planning/07-01-PLAN.md
    .planning/07-01-SUMMARY.md
    .planning/07-02-PLAN.md
    .planning/07-02-SUMMARY.md
    .planning/07-03-PLAN.md
    .planning/07-03-SUMMARY.md
    .planning/07-CONTEXT.md
  </files>
  <action>
    Stage all Phase 7 artifacts using the exact commands from the v1.1 audit report:

    ```bash
    cd /home/ollie/Development/Tools/viflo

    # Phase 7 skill artifacts
    git add .agent/skills/*/SKILL.md
    git add .agent/skills/*/references/
    git add .agent/skills/INDEX.md

    # Phase 7 verification backfill
    git add .planning/verifications/

    # Phase 7 telemetry
    git add .telemetry/
    git add scripts/log-telemetry.sh scripts/telemetry-report.sh

    # Phase 7 planning docs
    git add .planning/07-01-PLAN.md .planning/07-02-PLAN.md .planning/07-03-PLAN.md
    git add .planning/07-01-SUMMARY.md .planning/07-02-SUMMARY.md .planning/07-03-SUMMARY.md
    git add .planning/07-CONTEXT.md
    ```

    Verify the staged set looks correct before committing:
    ```bash
    git diff --cached --stat
    ```
    Expect: changes to 11 SKILL.md files, 30+ new files in references/ dirs, 4 new files in .planning/verifications/, .telemetry/ dir, 2 scripts, 7 planning docs.

    Then commit:
    ```bash
    git commit -m "$(cat <<'EOF'
feat(phase-7): commit skill modularizations, verification backfill, and telemetry

Phase 7 execution created all these artifacts on disk but never committed them.
This commit brings the committed tree into sync with the disk state.

- 11 SKILL.md files modularized to ≤500 lines with references/ sub-guides (CONTENT-01)
- .planning/verifications/ Phase 0-3 VERIFICATION.md backfill (CONTENT-02)
- .telemetry/usage.csv + scripts/log-telemetry.sh + scripts/telemetry-report.sh (CONTENT-03)
- Phase 7 planning docs (07-PLAN.md, 07-SUMMARY.md, 07-CONTEXT.md files)

Co-Authored-By: Claude Sonnet 4.6 <noreply@anthropic.com>
EOF
)"
    ```

    Do NOT use `git add .` or `git add -A` — only stage the specific files listed above to avoid accidentally including other unrelated untracked files.
  </action>
  <verify>
    <automated>git -C /home/ollie/Development/Tools/viflo log --oneline -1 && git -C /home/ollie/Development/Tools/viflo ls-files .agent/skills/api-design-principles/SKILL.md .planning/verifications/phase-0-VERIFICATION.md scripts/log-telemetry.sh</automated>
    <manual>Confirm git log shows the new Phase 7 commit and git ls-files returns all three paths</manual>
  </verify>
  <done>
    Commit exists in HEAD containing all Phase 7 artifacts.
    `git ls-files .agent/skills/*/SKILL.md` returns 11+ paths.
    `git ls-files .planning/verifications/` returns 4 phase-{0,1,2,3}-VERIFICATION.md files.
    `git ls-files scripts/log-telemetry.sh scripts/telemetry-report.sh` returns both scripts.
    No SKILL.md in the committed tree exceeds 500 lines.
  </done>
</task>

</tasks>

<verification>
After Task 2 completes:

```bash
# Confirm CONTENT-01: all SKILL.md files ≤500 lines in committed tree
git show HEAD:.agent/skills/api-design-principles/SKILL.md | wc -l
# Spot-check: should be ≤500 for each modularized skill

# Confirm CONTENT-02: Phase 0-3 verifications committed
git ls-files .planning/verifications/
# Should list: .planning/verifications/phase-0-VERIFICATION.md (and 1,2,3)

# Confirm CONTENT-03: telemetry artifacts committed
git ls-files .telemetry/ scripts/log-telemetry.sh scripts/telemetry-report.sh
# Should list all 4 paths
```
</verification>

<success_criteria>
- All 11 Phase 7 SKILL.md modularizations are in committed HEAD (CONTENT-01)
- Phase 0-3 VERIFICATION.md files are in committed HEAD (CONTENT-02)
- Telemetry scripts and CSV are in committed HEAD (CONTENT-03)
- `git ls-files` confirms all paths are tracked
- Zero untracked Phase 7 artifacts remain
</success_criteria>

<output>
After completion, create `.planning/10-commit-and-verify/10-01-SUMMARY.md` documenting:
- What was staged and committed
- The commit SHA
- Which requirements are now satisfied in the committed tree
</output>
