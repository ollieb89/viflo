# Plan 07-01: Skill Modularization

<plan phase="7" plan="1">
  <overview>
    <phase_name>Content Hygiene â€” Skill Modularization</phase_name>
    <goal>Split oversized SKILL.md files (>500 lines) into core file + references/</goal>
  </overview>
  
  <dependencies>
    <complete>Phase 6: Test Suite complete with CI integration</complete>
  </dependencies>
  
  <reference>
    <context>07-CONTEXT.md</context>
    <requirement>CONTENT-01</requirement>
  </reference>

  <tasks>
    <task type="auto" priority="1">
      <name>Create references/ directory structure</name>
      <files>.agent/skills/*/references/</files>
      <action>
        For each of the 12 oversized skills, create references/ subdirectory
        with subfolders: guides/, examples/, checklists/ where applicable.
      </action>
      <verify>All 12 skills have references/ directory</verify>
    </task>

    <task type="auto" priority="1">
      <name>Modularize nodejs-backend-patterns (1,055 lines)</name>
      <files>
        .agent/skills/nodejs-backend-patterns/SKILL.md,
        .agent/skills/nodejs-backend-patterns/references/guides/fastify-patterns.md,
        .agent/skills/nodejs-backend-patterns/references/guides/express-patterns.md,
        .agent/skills/nodejs-backend-patterns/references/guides/nestjs-patterns.md,
        .agent/skills/nodejs-backend-patterns/references/examples/validation-schemas.md,
        .agent/skills/nodejs-backend-patterns/references/checklists/api-security.md
      </files>
      <action>
        Extract framework-specific sections (Fastify, Express, NestJS) to guides/.
        Extract validation examples to examples/.
        Extract security checklist to checklists/.
        Update SKILL.md with "See also" links to references/.
        Target: Reduce to ~450 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines, references/ files exist, links work</verify>
    </task>

    <task type="auto" priority="1">
      <name>Modularize typescript-advanced-types (731 lines)</name>
      <files>
        .agent/skills/typescript-advanced-types/SKILL.md,
        .agent/skills/typescript-advanced-types/references/guides/conditional-types.md,
        .agent/skills/typescript-advanced-types/references/guides/mapped-types.md,
        .agent/skills/typescript-advanced-types/references/guides/template-literal-types.md,
        .agent/skills/typescript-advanced-types/references/examples/type-challenges.md
      </files>
      <action>
        Extract conditional types, mapped types, template literal types to guides/.
        Extract type challenge solutions to examples/.
        Keep core type utilities in SKILL.md.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines, references/ files exist</verify>
    </task>

    <task type="auto" priority="1">
      <name>Modularize writing-skills (721 lines)</name>
      <files>
        .agent/skills/writing-skills/SKILL.md,
        .agent/skills/writing-skills/references/guides/prompt-engineering.md,
        .agent/skills/writing-skills/references/guides/documentation-standards.md,
        .agent/skills/writing-skills/references/examples/skill-templates.md,
        .agent/skills/writing-skills/references/checklists/skill-review.md
      </files>
      <action>
        Extract prompt engineering patterns to guides/.
        Extract documentation standards to guides/.
        Extract skill templates to examples/.
        Extract review checklist to checklists/.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines, references/ populated</verify>
    </task>

    <task type="auto" priority="2">
      <name>Modularize error-handling-patterns (648 lines)</name>
      <files>
        .agent/skills/error-handling-patterns/SKILL.md,
        .agent/skills/error-handling-patterns/references/guides/language-specific.md,
        .agent/skills/error-handling-patterns/references/examples/retry-logic.md
      </files>
      <action>
        Extract language-specific implementations (Python, TypeScript, Go) to guides/.
        Extract retry logic examples to examples/.
        Keep core patterns in SKILL.md.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines</verify>
    </task>

    <task type="auto" priority="2">
      <name>Modularize monorepo-management (630 lines)</name>
      <files>
        .agent/skills/monorepo-management/SKILL.md,
        .agent/skills/monorepo-management/references/guides/turborepo-setup.md,
        .agent/skills/monorepo-management/references/guides/nx-setup.md,
        .agent/skills/monorepo-management/references/guides/pnpm-workspaces.md,
        .agent/skills/monorepo-management/references/checklists/migration.md
      </files>
      <action>
        Extract tool-specific setup guides to guides/.
        Extract migration checklist to checklists/.
        Keep core monorepo principles in SKILL.md.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines</verify>
    </task>

    <task type="auto" priority="2">
      <name>Modularize microservices-patterns (602 lines)</name>
      <files>
        .agent/skills/microservices-patterns/SKILL.md,
        .agent/skills/microservices-patterns/references/guides/service-discovery.md,
        .agent/skills/microservices-patterns/references/guides/circuit-breaker.md
      </files>
      <action>
        Extract service discovery and circuit breaker deep-dives to guides/.
        Keep pattern overview in SKILL.md.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines</verify>
    </task>

    <task type="auto" priority="2">
      <name>Modularize fastapi-templates (573 lines)</name>
      <files>
        .agent/skills/fastapi-templates/SKILL.md,
        .agent/skills/fastapi-templates/references/examples/crud-template.md,
        .agent/skills/fastapi-templates/references/examples/auth-template.md
      </files>
      <action>
        Extract full CRUD and auth template examples to examples/.
        Keep quick-start and structure in SKILL.md.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines</verify>
    </task>

    <task type="auto" priority="2">
      <name>Modularize e2e-testing-patterns (551 lines)</name>
      <files>
        .agent/skills/e2e-testing-patterns/SKILL.md,
        .agent/skills/e2e-testing-patterns/references/guides/playwright-setup.md,
        .agent/skills/e2e-testing-patterns/references/guides/cypress-setup.md
      </files>
      <action>
        Extract framework-specific setup guides to guides/.
        Keep testing principles in SKILL.md.
        Target: Reduce to ~480 lines.
      </action>
      <verify>SKILL.md &lt; 500 lines</verify>
    </task>

    <task type="auto" priority="3">
      <name>Modularize remaining skills (&lt;550 lines)</name>
      <files>
        .agent/skills/code-review-excellence/SKILL.md,
        .agent/skills/debugging-strategies/SKILL.md,
        .agent/skills/api-design-principles/SKILL.md,
        .agent/skills/architecture-patterns/SKILL.md
      </files>
      <action>
        For each: extract extended checklists or deep-dives to references/checklists/ or guides/.
        Target: All &lt; 500 lines.
      </action>
      <verify>All 4 skills &lt; 500 lines</verify>
    </task>

    <task type="auto" priority="3">
      <name>Update skill INDEX.md with references/ notes</name>
      <files>.agent/skills/INDEX.md</files>
      <action>
        Add note to skills with references/ indicating extended content available.
      </action>
      <verify>INDEX.md lists references availability</verify>
    </task>

    <task type="manual" priority="3">
      <name>Verify all skills still functional</name>
      <action>
        Spot-check 3-4 modularized skills to ensure content is complete and links work.
      </action>
      <verify>Random sample of skills verified functional</verify>
    </task>

  </tasks>
</plan>
